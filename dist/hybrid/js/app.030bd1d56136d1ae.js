/*! Entersoft Application Server WEB API - v1.13.0 - 2016-11-18
* Copyright (c) 2016 Entersoft SA; Licensed Apache-2.0 */
!function(a){"use strict";function b(a,b,c){a.isReady=!1,b.subscribe("ES_HTTP_CORE_ERR",function(a,b){var d=c.getUserMessage(a,b);alert(d.messageToShow)}),c.getESUISettings().mobile=window.esDeviceMode,c.getESUISettings().defaultGridHeight=window.esGridHeight}function c(b,c,d,e){if(window.esWebApiToken)c.setWebApiToken(window.esWebApiToken),a.isFunction(e)&&e(),b.isReady=!0;else{var f={UserID:"admin",Password:"entersoft",BranchID:"ΑΘΗ",LangID:"el-GR"};d.openSession(f).then(function(c){a.isFunction(e)&&e(),b.isReady=!0},function(a){var b=c.getUserMessage(a);b.isLogin||alert(b.messageToShow)})}}var d=a.module("esWebPqApp",["ngStorage","es.Services.Web","kendo.directives","underscore","es.Web.UI","ui.bootstrap","uiGmapgoogle-maps"]);d.config(["$logProvider","esWebApiProvider","uiGmapGoogleMapApiProvider","$translateProvider",function(a,b,c,d){var e=window.esWebApiSettings;b.setSettings(e),d.useStaticFilesLoader({files:[{prefix:"languages/eswebapi-locale-",suffix:".json"}]}),d.preferredLanguage("el"),d.fallbackLanguage("en"),d.useSanitizeValueStrategy("escape"),c.configure({libraries:"weather,geometry,visualization"})}]),d.controller("testCtrl",["$scope","$log","esMessaging","esWebApi","esUIHelper","esGlobals",function(a,d,e,f,g,h){b(a,e,h),a.params=new h.ESParamValues([new h.ESParamVal("ClosingDate",3)]),a.esParamDef={required:!0,id:"ClosingDate",enumList:[{text:"Option 1",value:0},{text:"Option 2",value:1},{text:"Option 3",value:2},{text:"Correct !!!",value:3}]},a.cVal=3,c(a,h,f)}]),d.controller("esChartCtrl",["$scope","$log","esMessaging","esWebApi","esUIHelper","esGlobals",function(a,d,e,f,g,h){b(a,e,h);var i=function(){var b=window.esDef.GroupID,c=window.esDef.FilterID;a.esPqDef=new h.ESPublicQueryDef("",b,c,new h.ESPQOptions,new h.ESParamValues),a.esPqDef.options=window.esDef.options};c(a,h,f,i)}]),d.controller("esGridCtrl",["$scope","$log","esMessaging","esWebApi","esUIHelper","esGlobals",function(a,d,e,f,g,h){b(a,e,h);var i=function(){var b=window.esDef.GroupID,c=window.esDef.FilterID;a.esPqDef=new h.ESPublicQueryDef("",b,c,new h.ESPQOptions,new h.ESParamValues),a.esPqDef.serverSidePaging=window.esDef.ServerSidePaging};c(a,h,f,i)}]),d.controller("esMapCtrl",["$scope","$log","esMessaging","esWebApi","esUIHelper","esGlobals","uiGmapGoogleMapApi",function(a,d,e,f,g,h,i){b(a,e,h);var j=function(){var b=window.esDef.GroupID,c=window.esDef.FilterID;a.esPqDef=new h.ESPublicQueryDef("",b,c,new h.ESPQOptions,new h.ESParamValues),a.esPqDef.options=window.esDef.options,a.esPqDef.mapType=window.esDef.mapType,a.esPqDef.typeOptions=window.esDef.typeOptions,a.esPqDef.mapCtrl={}};i.then(function(a){d.info("Google maps ver = "+a.version),a.visualRefresh=!0}),c(a,h,f,j)}]),d.controller("esComboCtrl",["$scope","$log","esMessaging","esWebApi","esUIHelper","esGlobals",function(a,d,e,f,g,h){b(a,e,h);var i=function(){var b=window.esDef;a.esPqDef=_.map(b,function(a){switch(a.ESUIType.toLowerCase()){case"esgrid":var b=new h.ESPublicQueryDef("",a.esDef.GroupID,a.esDef.FilterID,new h.ESPQOptions,new h.ESParamValues);return b.ESUIType=a.ESUIType.toLowerCase(),b.AA=a.AA,b.serverSidePaging=a.esDef.ServerSidePaging,b;case"eschart":var b=new h.ESPublicQueryDef("",a.esDef.GroupID,a.esDef.FilterID,new h.ESPQOptions,new h.ESParamValues);return b.ESUIType=a.ESUIType.toLowerCase(),b.AA=a.AA,b.options=a.esDef.options,b;case"esmap":var b=new h.ESPublicQueryDef("",a.esDef.GroupID,a.esDef.FilterID,new h.ESPQOptions,new h.ESParamValues);return b.ESUIType=a.ESUIType.toLowerCase(),b.AA=a.AA,b.options=a.esDef.options,b.mapType=a.esDef.mapType,b.typeOptions=a.esDef.typeOptions,b.mapCtrl={},b;default:throw new Exception("Invalid ESUIType in Combo Component with ID")}})};c(a,h,f,i)}])}(window.angular);