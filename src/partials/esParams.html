<accordion>
    <accordion-group is-open="esPanelOpen">
        <accordion-heading>
            Parameters <span class="badge">{{::esParamsDef.definitions.length}}</span> 
           	<i class="pull-right glyphicon" popover-placement="left" popover-append-to-body="true" popover-template="'src/partials/esParamsPanelPopover.html'" popover-title="{{::esParamsDef.title}}" popover-trigger="mouseenter" ng-class="{'glyphicon-zoom-out': esPanelOpen, 'glyphicon-zoom-in': !esPanelOpen}"></i>
        </accordion-heading>

        <form novalidate class="form" name="esParamsPanelForm">
            <div class="row">
                <div class="form-group col-xs-12 col-sm-6 col-md-4 col-lg-3" ng-class="{'has-error': esParamsPanelForm.{{::param.id}}.$invalid}" ng-repeat="param in esParamsDef.definitions | filter:{visible: true} | orderBy:'aa'">
                    <es-param es-type="param | esParamTypeMapper" es-param-val="esParamsValues" es-param-def="param"></es-param>
                    <div ng-show="esParamsPanelForm.$submitted || esParamsPanelForm.{{param.id}}.$touched">
				    	<span ng-show="esParamsPanelForm.{{param.id}}.$error.required">Tell us your email.</span>
				    </div>
                </div>
            </div>
            <div class="row">
            	<div class="col-xs-12">
            		<input type="submit" value="Execute"/>
            	</div>
            </div>
            <div ng-if="!esParamsPanelForm.$valid" class="row col-xs-12 alert alert-danger" role="alert">
            	valid = {{esParamsPanelForm.$valid}} - 
            	error = {{esParamsPanelForm.$error | json}}
            </div>
        </form>
    </accordion-group>
</accordion>

