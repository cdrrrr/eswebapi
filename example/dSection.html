<div class="row">
	<div ng-if="esSectionIdx < 0" class="es-survey-introduction">
		<div>
			<div ng-bind-html="esPsDef.Campaign.TaskNotes"/>
			<button class="btn btn-primary" ng-disabled="section_{{esSectionIdx + 1}}.$invalid">Next</button>
		</div>
	</div>
    <div ng-show="esSectionIdx >= 0">
        <h2>SectioN {{esSectionIdx + 1}} - {{esPsDef.Sections[esSectionIdx].Description}} [{{esPsDef.Sections[esSectionIdx].Code}}]</h2>
        <form novalidate class="form" name="section_{{esSectionIdx + 1}}">
            <div class="row">
                <div class="es-survey-question form-group col-xs-12 " ng-class="{'has-error': section_{{esSectionIdx + 1}}.{{::esGlobals.esConvertGIDtoId(question.GID)}}.$invalid && section_{{esSectionIdx + 1}}.{{::esGlobals.esConvertGIDtoId(question.GID)}}.$dirty}" ng-repeat="question in esPsDef.Lines | filter: {Category_Code: esPsDef.Sections[esSectionIdx].Code} | orderBy:'SeqNum'">
                    <label class="control-label es-survey-question-label">Question {{$index + 1}} - {{question.Description}} [{{question.Code}}]</label>
                    {{question.PType}}
                    <!-- <div ng-repeat="option in esPsDef.Choices | filter: {ChoiceCode: question.PArg} | orderBy:'OrderPriority'">
                        <label>
                            <input type="radio" name="{{::esGlobals.esConvertGIDtoId(question.GID)}}" ng-required="!esPsVal[question.Code]" ng-model="esPsVal[question.Code]" ng-value="{{option.Value}}"> {{option.Description}}
                        </label>
                    </div> -->
                    <input class="form-control es-survey-question-control" 
					name="{{::esGlobals.esConvertGIDtoId(question.GID)}}"
					ng-required="true"
					ng-model="esPsVal[question.Code]"/>
                </div>
                <button class="btn btn-primary" ng-disabled="section_{{esSectionIdx + 1}}.$invalid">Next</button>
            </div>
        </form>
    </div>
</div>
